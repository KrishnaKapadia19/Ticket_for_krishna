from datetime import datetime

epoch_nse = datetime(1980, 1, 1)

DEFAULT_LOG_LEVEL = "INFO"
WARNING_LOG_LEVEL = "WARNING"
DISABLE_LOG_KEY = "disable_logs"

INVALID_DATE = "Kindly set `entry_date` or `exit_date` in the format of '%y%m%d'."
ENTRY_DATE_GREATER_ERROR = "Kindly select the smaller `entry_date` than `exit_date`."

VALID_INDEX_OPTIONS_COLUMNS = [
    "date",  # 0
    "time",  # 1
    "symbol",  # 2
    "strike",  # 3
    "expiry",  # 4
    "open",  # 5
    "high",  # 6
    "low",  # 7
    "close",  # 8
    "volume",  # 9
    "oi",  # 10
]

VALID_INDEX_CASH_COLUMNS = ["date", "time", "symbol", "open", "high", "low", "close"]

UNIVERSAL_NSE_EQ_SYMBOLS = ["sbin", "tatamotors"]

# UNIVERSAL_NSE_INDEXES = ["NIFTY", "BANKNIFTY"]
UNIVERSAL_NSE_INDEXES = ["BANKNIFTY"]
import operator

STRIKE_DIFF = {
    "NIFTY": 50,
    "BANKNIFTY": 100,
    "FINNIFTY": 50,
    "MIDCPNIFTY": 25,
    "SENSEX": 100,
    "BANKEX": 100,
    "COPPER": 5,
    "ZINC": 2,
    "GOLD": 100,
    "GOLDM": 100,
    "SILVER": 250,
    "SILVERM": 250,
    "SILVERM": 250,
    "CRUDEOIL": 250,
    "CRUDEOILM": 250,
    "NATURALGAS": 5,
    "NATGASMINI": 5,
}

# NIFTY200_STOCK_LIST = [
#     "aartiind",
#     "abbotindia",
#     "abb",
#     "abcapital",
#     "abfrl",
#     "acc",
#     "adanient",
#     "adaniports",
#     "alkem",
#     "ambujacem",
#     "apollohosp",
#     "apollotyre",
#     "ashokley",
#     "asianpaint",
#     "astral",
#     "atul",
#     "aubank",
#     "auropharma",
#     "axisbank",
#     "bajajfinsv",
#     "bajfinance",
#     "balkrisind",
#     "balramchin",
#     "bandhanbnk",
#     "bankbaroda",
#     "banknifty",
#     "bataindia",
#     "bel",
#     "bergepaint",
#     "bharatforg",
#     "bhartiartl",
#     "bhel",
#     "biocon",
#     "boschltd",
#     "bpcl",
#     "britannia",
#     "bsoft",
#     "canbk",
#     "canfinhome",
#     "chamblfert",
#     "cholafin",
#     "cipla",
#     "coalindia",
#     "coforge",
#     "colpal",
#     "concor",
#     "coromandel",
#     "crompton",
#     "cub",
#     "cumminsind",
#     "dabur",
#     "dalbharat",
#     "deepakntr",
#     "divislab",
#     "dixon",
#     "dlf",
#     "drreddy",
#     "eichermot",
#     "escorts",
#     "exideind",
#     "federalbnk",
#     "finnifty",
#     "gail",
#     "glenmark",
#     "gmrinfra",
#     "gnfc",
#     "godrejcp",
#     "godrejprop",
#     "granules",
#     "grasim",
#     "gujgasltd",
#     "hal",
#     "havells",
#     "hcltech",
#     "hdfcamc",
#     "hdfcbank",
#     "hdfclife",
#     "heromotoco",
#     "hindalco",
#     "hindcopper",
#     "hindpetro",
#     "hindunilvr",
#     "icicibank",
#     "icicigi",
#     "icicipruli",
#     "idea",
#     "idfcfirstb",
#     "idfc",
#     "iex",
#     "igl",
#     "indhotel",
#     "indiamart",
#     "indigo",
#     "indusindbk",
#     "industower",
#     "infy",
#     "ioc",
#     "ipcalab",
#     "irctc",
#     "itc",
#     "jindalstel",
#     "jkcement",
#     "jswsteel",
#     "jublfood",
#     "kotakbank",
#     "lalpathlab",
#     "lauruslabs",
#     "lichsgfin",
#     "ltf",
#     "ltim",
#     "ltts",
#     "lt",
#     "lupin",
#     "manappuram",
#     "marico",
#     "maruti",
#     "mcx",
#     "metropolis",
#     "mfsl",
#     "mgl",
#     "midcpnifty",
#     "motherson",
#     "mphasis",
#     "mrf",
#     "muthootfin",
#     "nationalum",
#     "naukri",
#     "navinfluor",
#     "nestleind",
#     "nifty",
#     "nmdc",
#     "ntpc",
#     "oberoirlty",
#     "ofss",
#     "ongc",
#     "pageind",
#     "pel",
#     "persistent",
#     "petronet",
#     "pfc",
#     "pidilitind",
#     "piind",
#     "pnb",
#     "polycab",
#     "powergrid",
#     "pvrinox",
#     "ramcocem",
#     "rblbank",
#     "recltd",
#     "reliance",
#     "sail",
#     "sbicard",
#     "sbilife",
#     "sbin",
#     "shreecem",
#     "shriramfin",
#     "siemens",
#     "srf",
#     "sunpharma",
#     "suntv",
#     "syngene",
#     "tatachem",
#     "tatacomm",
#     "tataconsum",
#     "tatamotors",
#     "tatapower",
#     "tatasteel",
#     "tcs",
#     "techm",
#     "titan",
#     "torntpharm",
#     "trent",
#     "tvsmotor",
#     "ubl",
#     "ultracemco",
#     "unitdspr",
#     "upl",
#     "vedl",
#     "voltas",
#     "wipro",
#     "zyduslife",
# ]

ONE_MINUTES_CANDLE_STAMPS = [
    33300,
    33360,
    33420,
    33480,
    33540,
    33600,
    33660,
    33720,
    33780,
    33840,
    33900,
    33960,
    34020,
    34080,
    34140,
    34200,
    34260,
    34320,
    34380,
    34440,
    34500,
    34560,
    34620,
    34680,
    34740,
    34800,
    34860,
    34920,
    34980,
    35040,
    35100,
    35160,
    35220,
    35280,
    35340,
    35400,
    35460,
    35520,
    35580,
    35640,
    35700,
    35760,
    35820,
    35880,
    35940,
    36000,
    36060,
    36120,
    36180,
    36240,
    36300,
    36360,
    36420,
    36480,
    36540,
    36600,
    36660,
    36720,
    36780,
    36840,
    36900,
    36960,
    37020,
    37080,
    37140,
    37200,
    37260,
    37320,
    37380,
    37440,
    37500,
    37560,
    37620,
    37680,
    37740,
    37800,
    37860,
    37920,
    37980,
    38040,
    38100,
    38160,
    38220,
    38280,
    38340,
    38400,
    38460,
    38520,
    38580,
    38640,
    38700,
    38760,
    38820,
    38880,
    38940,
    39000,
    39060,
    39120,
    39180,
    39240,
    39300,
    39360,
    39420,
    39480,
    39540,
    39600,
    39660,
    39720,
    39780,
    39840,
    39900,
    39960,
    40020,
    40080,
    40140,
    40200,
    40260,
    40320,
    40380,
    40440,
    40500,
    40560,
    40620,
    40680,
    40740,
    40800,
    40860,
    40920,
    40980,
    41040,
    41100,
    41160,
    41220,
    41280,
    41340,
    41400,
    41460,
    41520,
    41580,
    41640,
    41700,
    41760,
    41820,
    41880,
    41940,
    42000,
    42060,
    42120,
    42180,
    42240,
    42300,
    42360,
    42420,
    42480,
    42540,
    42600,
    42660,
    42720,
    42780,
    42840,
    42900,
    42960,
    43020,
    43080,
    43140,
    43200,
    43260,
    43320,
    43380,
    43440,
    43500,
    43560,
    43620,
    43680,
    43740,
    43800,
    43860,
    43920,
    43980,
    44040,
    44100,
    44160,
    44220,
    44280,
    44340,
    44400,
    44460,
    44520,
    44580,
    44640,
    44700,
    44760,
    44820,
    44880,
    44940,
    45000,
    45060,
    45120,
    45180,
    45240,
    45300,
    45360,
    45420,
    45480,
    45540,
    45600,
    45660,
    45720,
    45780,
    45840,
    45900,
    45960,
    46020,
    46080,
    46140,
    46200,
    46260,
    46320,
    46380,
    46440,
    46500,
    46560,
    46620,
    46680,
    46740,
    46800,
    46860,
    46920,
    46980,
    47040,
    47100,
    47160,
    47220,
    47280,
    47340,
    47400,
    47460,
    47520,
    47580,
    47640,
    47700,
    47760,
    47820,
    47880,
    47940,
    48000,
    48060,
    48120,
    48180,
    48240,
    48300,
    48360,
    48420,
    48480,
    48540,
    48600,
    48660,
    48720,
    48780,
    48840,
    48900,
    48960,
    49020,
    49080,
    49140,
    49200,
    49260,
    49320,
    49380,
    49440,
    49500,
    49560,
    49620,
    49680,
    49740,
    49800,
    49860,
    49920,
    49980,
    50040,
    50100,
    50160,
    50220,
    50280,
    50340,
    50400,
    50460,
    50520,
    50580,
    50640,
    50700,
    50760,
    50820,
    50880,
    50940,
    51000,
    51060,
    51120,
    51180,
    51240,
    51300,
    51360,
    51420,
    51480,
    51540,
    51600,
    51660,
    51720,
    51780,
    51840,
    51900,
    51960,
    52020,
    52080,
    52140,
    52200,
    52260,
    52320,
    52380,
    52440,
    52500,
    52560,
    52620,
    52680,
    52740,
    52800,
    52860,
    52920,
    52980,
    53040,
    53100,
    53160,
    53220,
    53280,
    53340,
    53400,
    53460,
    53520,
    53580,
    53640,
    53700,
    53760,
    53820,
    53880,
    53940,
    54000,
    54060,
    54120,
    54180,
    54240,
    54300,
    54360,
    54420,
    54480,
    54540,
    54600,
    54660,
    54720,
    54780,
    54840,
    54900,
    54960,
    55020,
    55080,
    55140,
    55200,
    55260,
    55320,
    55380,
    55440,
    55500,
    55560,
    55620,
    55680,
    55740,
    55800,
]

THREE_MINUTES_CANDLE_STAMPS = [
    33300,
    33480,
    33660,
    33840,
    34020,
    34200,
    34380,
    34560,
    34740,
    34920,
    35100,
    35280,
    35460,
    35640,
    35820,
    36000,
    36180,
    36360,
    36540,
    36720,
    36900,
    37080,
    37260,
    37440,
    37620,
    37800,
    37980,
    38160,
    38340,
    38520,
    38700,
    38880,
    39060,
    39240,
    39420,
    39600,
    39780,
    39960,
    40140,
    40320,
    40500,
    40680,
    40860,
    41040,
    41220,
    41400,
    41580,
    41760,
    41940,
    42120,
    42300,
    42480,
    42660,
    42840,
    43020,
    43200,
    43380,
    43560,
    43740,
    43920,
    44100,
    44280,
    44460,
    44640,
    44820,
    45000,
    45180,
    45360,
    45540,
    45720,
    45900,
    46080,
    46260,
    46440,
    46620,
    46800,
    46980,
    47160,
    47340,
    47520,
    47700,
    47880,
    48060,
    48240,
    48420,
    48600,
    48780,
    48960,
    49140,
    49320,
    49500,
    49680,
    49860,
    50040,
    50220,
    50400,
    50580,
    50760,
    50940,
    51120,
    51300,
    51480,
    51660,
    51840,
    52020,
    52200,
    52380,
    52560,
    52740,
    52920,
    53100,
    53280,
    53460,
    53640,
    53820,
    54000,
    54180,
    54360,
    54540,
    54720,
    54900,
    55080,
    55260,
    55440,
    55620,
]

FIVE_MINUTE_CANDLE_STAMPS = [
    33300,
    33600,
    33900,
    34200,
    34500,
    34800,
    35100,
    35400,
    35700,
    36000,
    36300,
    36600,
    36900,
    37200,
    37500,
    37800,
    38100,
    38400,
    38700,
    39000,
    39300,
    39600,
    39900,
    40200,
    40500,
    40800,
    41100,
    41400,
    41700,
    42000,
    42300,
    42600,
    42900,
    43200,
    43500,
    43800,
    44100,
    44400,
    44700,
    45000,
    45300,
    45600,
    45900,
    46200,
    46500,
    46800,
    47100,
    47400,
    47700,
    48000,
    48300,
    48600,
    48900,
    49200,
    49500,
    49800,
    50100,
    50400,
    50700,
    51000,
    51300,
    51600,
    51900,
    52200,
    52500,
    52800,
    53100,
    53400,
    53700,
    54000,
    54300,
    54600,
    54900,
    55200,
    55500,
]

FIFTEEN_MINUTE_CANDLE_STAMP = [
    33300,
    34200,
    35100,
    36000,
    36900,
    37800,
    38700,
    39600,
    40500,
    41400,
    42300,
    43200,
    44100,
    45000,
    45900,
    46800,
    47700,
    48600,
    49500,
    50400,
    51300,
    52200,
    53100,
    54000,
    54900,
    55800,
]

_OPS = {
    ">": operator.gt,
    "<": operator.lt,
    "==": operator.eq,
    "!=": operator.ne,
    ">=": operator.ge,
    "<=": operator.le,
    "AND": lambda a, b: a and b,
    "OR": lambda a, b: a or b,
}

OPS = {
    ">": lambda a, b: a > b,
    "<": lambda a, b: a < b,
    ">=": lambda a, b: a >= b,
    "<=": lambda a, b: a <= b,
    "==": lambda a, b: a == b,
    "!=": lambda a, b: a != b,
    "AND": lambda a, b: bool(a) and bool(b),
    "OR": lambda a, b: bool(a) or bool(b),
    "+": lambda a, b: a + b,
    "-": lambda a, b: a - b,
    "*": lambda a, b: a * b,
    "/": lambda a, b: a / b,
}
